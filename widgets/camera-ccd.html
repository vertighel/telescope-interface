
<fieldset class="form-group">

  <div class="mb-2 row">
    <label for="temperature" class="col-2 col-form-label">Cool</label>
    <div class="col input-group">
      <div class="input-group-prepend">
        <div class="input-group-text custom-checkbox">
            <input data-var="cooling_enabled" type="checkbox"  class="custom-control-checkbox" aria-label="Activate">
        </div>
      </div>
      <input data-var="cooling_setpoint" class="form-control" type="number" id="temperature" value="-20" max="0">
      <div class="input-group-append">
        <span class="input-group-text">°C</span>
        <var data-var=cooling_temp" class="input-group-text">-18.1</var>
      </div>
    </div>
  </div>

  <div class="mb-2 row">
    <label for="frametyp" class="col-form-label col-2">Frame</label>
    <div class="col-5">
      <select data-var="frametyp" id="frametyp" name="frametyp" class="form-control">
        <option value="full">Full</option>
        <option value="crop">Crop</option>
        <option value="custom" selected>Custom</option>
      </select>
    </div>
    <label for="binning" class="col-2 col-form-label">Binning</label>
    <div class="col">
      <select data-var="binning" class="custom-select form-control" id="binning">
        <option value="1">1×1</option>
        <option value="2" selected>2×2</option>
        <option value="3">3×3</option>
      </select>
    </div>
  </div>

  <div data-var="subframe">
  <div class="row">
    <label for="x0" class="col-1 col-form-label">X<sub>0</sub></label>
    <label for="y0" class="col-1 col-form-label">Y<sub>0</sub></label>
    <div class="col input-group input-group-sm">
      <input data-var="x0" class="form-control" type="number"
             id="x0" value="123" max="1">
      <div class="input-group-append">
        <span class="input-group-text">px</span>
      </div>
    </div>
    <div class="col input-group input-group-sm">
      <input data-var="y0" class="form-control" type="number"
             id="y0" value="456" max="1">
      <div class="input-group-append">
        <span class="input-group-text">px</span>
      </div>
    </div>
  </div>

  <div class="row">
    <label for="xf" class="col-1 col-form-label">Y<sub>f</sub></label>
    <label for="yf" class="col-1 col-form-label">Y<sub>f</sub></label>
    <div class="col input-group input-group-sm">
      <input data-var="xf" class="form-control" type="number"
             id="xf" value="123" min="0">
      <div class="input-group-append">
        <span class="input-group-text">px</span>
      </div>
    </div>
    <div class="col input-group input-group-sm">
      <input data-var="yf" class="form-control" type="number"
             id="yf" value="456" min="2">
      <div class="input-group-append">
        <span class="input-group-text">px</span>
      </div>
    </div>
  </div>
  </div>
  
  <!-- <div class="row"> -->
  <!--   <strong class="col-2">Info:</strong> -->
  <!--   <small class="text-muted">Max: <var>1024</var>×<var>1024</var> px</small> -->
  <!--   <small class="text-muted">Width: <var>800</var> px</small> -->
  <!--   <small class="text-muted">Height: <var>600</var> px</small> -->
  <!-- </div> -->
  
</fieldset>

<script class="builder">

 var cam_ccd=this;
 
  $(document).ready(function(){
      
      $(cam_ccd.frametyp).change(function(){
	  //console.log("Hellooooo");
          
	  cam_ccd.subframe.style.display=this.value == "custom" ? "":"none";
	  //$("#x0,#y0,#xf,#yf").prop("disabled",!ifCustom)

	  console.log("P="+JSON.stringify(cam_ccd.get_ccd_params()));
      });

      cam_ccd.get_params=function(){
	  return {
	      cooling : { enabled : cam_ccd.cooling_enabled.checked, setpoint : cam_ccd.cooling_setpoint.value },
	      subframe : [cam_ccd.x0.value, cam_ccd.xf.value, cam_ccd.y0.value, cam_ccd.yf.value],
	  }
      }
      
      


  });
    
</script>
