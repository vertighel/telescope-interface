
<fieldset class="form-group">

  <div class="mb-2 row">
    <label for="imagetyp" class="col-form-label col-2">Type</label>
    <div class="col input-group">
      <select data-var="imagetype" id="imagetyp" name="imagetyp" class="form-control">
        <option value="science">Science</option>
        <option value="flat">Flat</option>
        <option value="dark">Dark</option>
        <option value="bias">Bias</option>
      </select>
    </div>
  </div>

  <div class="mb-2 row">
    <label class="col-2 col-form-label" for="exptime" >Expose</label>
    <div class="col-5 input-group">
      <input data-var="exptime" class="form-control" type="number" id="exptime" value="120">
      <div class="input-group-append">
        <span class="input-group-text">s</span>
      </div>
    </div>
    <label for="repeat" class="col-2 col-form-label">Repeat</label>
    <div class="col">
      <input data-var="nexpo" class="form-control" type="number" id="repeat" value="1" min="1" max="300">
      <!-- <span class="input-group-addon">#</span> -->
    </div>
  </div>

  <div class="mb-2 row">
    <span class="col-form-label col-2">Filter</span>
    <div class="btn-group col filter" role="group" aria-label="First group">
      <button type="button" class="btn btn-outline-primary col">U</button>
      <button type="button" class="btn btn-outline-primary col">B</button>
      <button type="button" class="btn btn-outline-primary col">V</button>
      <button type="button" class="btn btn-outline-primary col">R</button>
      <button type="button" class="btn btn-outline-primary col">I</button>
    </div>
  </div>

  <div class="mb-2 row">
    <label for="object" class="col-form-label col-2">Object</label>
    <div class="col">
      <input data-var="object" type="text" placeholder="Test" id="object"
             name="object" class="form-control" value="Test">
    </div>
  </div>

</fieldset>

<script class="builder">
 var co=this;
 
 $(document).ready(function(){

     $(co.imagetype).change(function(){
	 console.log("change");
         var ifBias = (this.value == "bias");
         var ifDark = (this.value == "dark");
	 
         $(co.exptime).prop("disabled",ifBias)
         $(".filter button").prop("disabled", ifBias || ifDark);
	 
     });
     
     $(".filter button").click(function(){
	 $(this)
              .addClass("btn-primary").removeClass("btn-outline-primary")
              .siblings()
              .removeClass("btn-primary").addClass("btn-outline-primary");
	 
     });

     co.get_params=function(){
	 return {
	     imagetype : co.imagetype.value,
	     exptime : co.exptime.value
	 };
     }
     
 });

</script>
