
<fieldset class="form-group">

  <div class="mb-2 row">
    <div class="btn-group col" role="group" aria-label="First group">
      <button type="submit" name="launch" value="video" class="btn btn-outline-secondary btn-sm col">Video</button>
      <button type="submit" name="launch" value="snapshot" class="btn btn-outline-secondary btn-sm col">Snapshot</button>
      <button type="submit" name="launch" value="stop" class="btn btn-outline-secondary btn-sm col">Stop</button>
    </div>
  </div>

  <div class="mb-2 row">
    <div class="btn-group col" role="group" aria-label="First group">
      <button data-var="expose" type="submit" name="launch" value="expose" class="btn btn-outline-secondary btn-sm col">Expose</button>
      <button data-var="abort" type="submit" name="launch" value="abort" class="btn btn-outline-secondary btn-sm col">Abort</button>
    </div>
  </div>



  <!-- Progress bar -->
  <div>
    <span data-var="exposure_label">Progress</span>
    <output data-var="exposure_output" for="exposure_progress" >0</output>%
  </div>
  
  <div>
    <div role="progressbar" data-var="exposure_progress" class="progress-bar" 
         aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
  </div>
  
  
  <!-- <div class="mb-2 row"> -->
  <!--   <div class="btn-group btn-group-toggle col" data-toggle="buttons"> -->
  <!--     <label class="btn btn-outline-primary btn-sm col"> -->
  <!--       <input type="radio" name="launch" id="launch1" value="video" autocomplete="off"> Video -->
  <!--     </label> -->
  <!--     <label class="btn btn-outline-secondary btn-sm col active focus"> -->
  <!--       <input type="radio" name="launch" id="launch2" value="snapshot" autocomplete="off" checked> Snapshot -->
  <!--     </label> -->
  <!--     <label class="btn btn-outline-secondary btn-sm col"> -->
  <!--       <input type="radio" name="launch" id="launch3" value="stop" autocomplete="off"> Stop -->
  <!--     </label> -->
  <!--   </div> -->
  <!-- </div> -->

  <!-- <div class="mb-2 row"> -->
  <!--   <div class="btn-group btn-group-toggle col" data-toggle="buttons"> -->
  <!--     <label class="btn btn-outline-secondary col" > -->
  <!--       <input type="radio" name="launch" id="launch4" value="expose" autocomplete="off"> Expose -->
  <!--     </label> -->
  <!--     <label class="btn btn-outline-secondary col"> -->
  <!--       <input type="radio" name="launch" id="launch5" value="abort" autocomplete="off"> Abort -->
  <!--     </label> -->
  <!--   </div> -->

  <!-- </div> -->
</fieldset>

<script class="builder">
 
  var cc = this;
  
  this.update_progress = function(data){
      switch(data.msg) {
      case "expo-progress":
	  $(cc.exposure_label)
	      .text("Exposure:");
	  $(cc.exposure_progress)
	      .css('width', msg.data.percent+'%')
	      .attr('aria-valuenow', msg.data.percent);
            $(cc.exposure_output)
	      .val(msg.data.percent);
            break;
      case "grab-progress":
	  $(cc.exposure_label)
	      .text("Transfer:");
	  $(cc.exposure_progress)
	      .css('width', msg.data.percent+'%')
	      .attr('aria-valuenow', msg.data.percent);
	  $(cc.exposure_output)
	      .val(msg.data.percent);
	  break;
      default:
	  break;
      }
  };
  
</script>
